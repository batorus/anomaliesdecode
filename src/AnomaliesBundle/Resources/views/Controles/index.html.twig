{% extends 'AnomaliesBundle::base.html.twig' %}

{% block controles_list -%}
{#    <h1>Controles list</h1>

    <table class="records_list">
        <thead>
            <tr>
                <th>Id</th>
                <th>Controle</th>
                <th>Echantillon</th>
                <th>Periodetravaux</th>
                <th>Enabled</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for entity in entities %}
            <tr>
                <td><a href="{{ path('controles_show', { 'id': entity.id }) }}">{{ entity.id }}</a></td>
                <td>{{ entity.controle }}</td>
                <td>{{ entity.echantillon }}</td>
                <td>{{ entity.periodetravaux }}</td>
                <td>{{ entity.enabled }}</td>
                <td>
                <ul>
                    <li>
                        <a href="{{ path('controles_show', { 'id': entity.id }) }}">show</a>
                    </li>
                    <li>
                        <a href="{{ path('controles_edit', { 'id': entity.id }) }}">edit</a>
                    </li>
                </ul>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

        <ul>
        <li>
            <a href="{{ path('controles_new') }}">
                Create a new entry
            </a>
        </li>
    </ul>#}
            
 
   <div class="col-md-12 ">           
            <div class="box box-info">
                <div class="box-header with-border">
                  <h3 class="box-title">List controles</h3>
             
                </div><!-- /.box-header -->
                <div class="box-body" style="min-height:500px;background-color: #fcf9ed;">
                   
                <div style="margin-bottom: 20px;">
                    <a href="{{path('controles_new')}}" >  
                        <span class="glyphicon glyphicon-plus"> </span>
                        <span style="margin-left: 5px; font-size: 15px;">
                            Nouvel enregistrement
                        </span>
                    </a>  
                </div>    
                    
                       {% if entities|length > 0 %}           
                            <div class="table-responsive col-md-12" >
                                <table class="table no-margin display modules" id="ml">
                                  <thead>
                                    <tr>
                                        <th>Id</th>
                                        <th>Controle</th>
                                        <th>Echantillons</th>
                                        <th>Periodestravaux</th>  
                                        
                                        <th class="nosort">Typesocietes</th>
                                        <th class="nosort">Typetaches</th>
                                        <th class="nosort">Typecontroles</th>
                                        
                                        <th class="nosort">Supprimer</th>
                                        <th class="nosort">Editer</th>
                                    </tr>
                                  </thead>
                                  <tbody>                                     
                                    {% for entity in entities %}                          
                                        <tr> 
                                            <td>{{ entity.id }}</td> 
                                            <td>{{ entity.controle }}</td>
                                            <td>{{ entity.echantillon }}</td>                                         
                                            <td>{{ entity.periodetravaux }}</td>
                                            <td>
                                              
                                                  {% for ts in entity.fktypesocietes %}
                                                   <div style="background-color:#DFF3FF;margin-bottom: 3px;padding:3px;">
                                                     {{ ts.typesociete }}
                                                    </div>                      
                                                  {% endfor %}
                                            </td>
                                           <td>
                                                {% for tt in entity.fktypetaches %}
                                                   <div style="background-color:#DFF3FF;margin-bottom: 3px;padding:3px;">
                                                     {{ tt.typetache }}
                                                    </div>                      
                                                {% endfor %}
                                           </td>
                                           <td>

                                                {% for tc in entity.fktypecontroles %}
                                                   <div style="background-color:#DFF3FF;margin-bottom: 3px;padding:3px;">
                                                     {{ tc.typecontrole }}
                                                    </div>                      
                                                {% endfor %}                                                
                                           </td>

                                            <td >                                            
                                                   <a href="{{ path('controles_delete', { 'id': entity.id }) }}"
                                                           
                                                        class="btn btn-block btn-danger btn-sm suprimerlink" 
                                                        style ="width:100px;margin:0 auto;"                                                           
                                                  >  
                                                      Supprimer
                                                  </a>                                                
                                            </td>    
                                            <td >                                            
                                                  <a href="{{ path('controles_edit', { 'id': entity.id }) }}" 
                                                    class="btn btn-block btn-warning btn-sm"
                                                    style ="width:100px;margin:0 auto;"                                                            
                                                   >  
                                                     Editer
                                                  </a>                                              
                                            </td>    
                                        </tr> 
                                        {% endfor %}    
                                  </tbody>
                                </table>

                              </div><!-- /.table-responsive -->   
                   {% endif %}
                </div><!-- /.box-body -->                      
       </div><!-- /.box -->     
    </div>                         
                       
{% endblock %}
